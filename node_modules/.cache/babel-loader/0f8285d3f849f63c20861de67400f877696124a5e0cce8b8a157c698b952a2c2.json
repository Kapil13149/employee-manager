{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{useParams,useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AddEditEmployee=()=>{const[employee,setEmployee]=useState({name:\"\",emailId:\"\",mobile:\"\",country:\"\",state:\"\",district:\"\"});const[countries,setCountries]=useState([]);const{id}=useParams();const navigate=useNavigate();useEffect(()=>{const fetchEmployee=async()=>{if(id){try{const{data}=await axios.get(\"https://669b3f09276e45187d34eb4e.mockapi.io/api/v1/employee/\".concat(id));setEmployee(data);}catch(error){console.error(\"Error fetching employee\",error);}}};const fetchCountries=async()=>{try{const{data}=await axios.get(\"https://669b3f09276e45187d34eb4e.mockapi.io/api/v1/country\");setCountries(data);}catch(error){console.error(\"Error fetching countries\",error);}};fetchEmployee();fetchCountries();},[id]);const handleChange=e=>{setEmployee(prev=>({...prev,[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();try{if(id){await axios.put(\"https://669b3f09276e45187d34eb4e.mockapi.io/api/v1/employee/\".concat(id),employee);}else{await axios.post(\"https://669b3f09276e45187d34eb4e.mockapi.io/api/v1/employee\",employee);}navigate(\"/\");}catch(error){console.error(\"Error saving employee\",error);}};const fields=[{label:\"Name\",name:\"name\",type:\"text\"},{label:\"Email\",name:\"emailId\",type:\"email\"},{label:\"Mobile\",name:\"mobile\",type:\"text\"},{label:\"State\",name:\"state\",type:\"text\"},{label:\"District\",name:\"district\",type:\"text\"}];return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-4\",children:id?\"Edit Employee\":\"Add Employee\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[fields.map(_ref=>{let{label,name,type}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:name,className:\"form-label\",children:label}),/*#__PURE__*/_jsx(\"input\",{type:type,id:name,name:name,className:\"form-control\",value:employee[name],onChange:handleChange,placeholder:label})]},name);}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"country\",className:\"form-label\",children:\"Country\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"country\",name:\"country\",className:\"form-select\",value:employee.country,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Country\"}),countries.map(country=>/*#__PURE__*/_jsx(\"option\",{value:country.country,children:country.country},country.id))]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:id?\"Update\":\"Add\"})]})]});};export default AddEditEmployee;","map":{"version":3,"names":["React","useState","useEffect","axios","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","AddEditEmployee","employee","setEmployee","name","emailId","mobile","country","state","district","countries","setCountries","id","navigate","fetchEmployee","data","get","concat","error","console","fetchCountries","handleChange","e","prev","target","value","handleSubmit","preventDefault","put","post","fields","label","type","className","children","onSubmit","map","_ref","htmlFor","onChange","placeholder"],"sources":["D:/Projects/employee-manager/src/components/AddEditEmployee.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\n\r\nconst AddEditEmployee = () => {\r\n  const [employee, setEmployee] = useState({\r\n    name: \"\",\r\n    emailId: \"\",\r\n    mobile: \"\",\r\n    country: \"\",\r\n    state: \"\",\r\n    district: \"\",\r\n  });\r\n  const [countries, setCountries] = useState([]);\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchEmployee = async () => {\r\n      if (id) {\r\n        try {\r\n          const { data } = await axios.get(\r\n            `https://669b3f09276e45187d34eb4e.mockapi.io/api/v1/employee/${id}`\r\n          );\r\n          setEmployee(data);\r\n        } catch (error) {\r\n          console.error(\"Error fetching employee\", error);\r\n        }\r\n      }\r\n    };\r\n\r\n    const fetchCountries = async () => {\r\n      try {\r\n        const { data } = await axios.get(\r\n          \"https://669b3f09276e45187d34eb4e.mockapi.io/api/v1/country\"\r\n        );\r\n        setCountries(data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching countries\", error);\r\n      }\r\n    };\r\n\r\n    fetchEmployee();\r\n    fetchCountries();\r\n  }, [id]);\r\n\r\n  const handleChange = (e) => {\r\n    setEmployee((prev) => ({ ...prev, [e.target.name]: e.target.value }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (id) {\r\n        await axios.put(\r\n          `https://669b3f09276e45187d34eb4e.mockapi.io/api/v1/employee/${id}`,\r\n          employee\r\n        );\r\n      } else {\r\n        await axios.post(\r\n          \"https://669b3f09276e45187d34eb4e.mockapi.io/api/v1/employee\",\r\n          employee\r\n        );\r\n      }\r\n      navigate(\"/\");\r\n    } catch (error) {\r\n      console.error(\"Error saving employee\", error);\r\n    }\r\n  };\r\n\r\n  const fields = [\r\n    { label: \"Name\", name: \"name\", type: \"text\" },\r\n    { label: \"Email\", name: \"emailId\", type: \"email\" },\r\n    { label: \"Mobile\", name: \"mobile\", type: \"text\" },\r\n    { label: \"State\", name: \"state\", type: \"text\" },\r\n    { label: \"District\", name: \"district\", type: \"text\" },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"container mt-4\">\r\n      <h1 className=\"mb-4\">{id ? \"Edit Employee\" : \"Add Employee\"}</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        {fields.map(({ label, name, type }) => (\r\n          <div className=\"mb-3\" key={name}>\r\n            <label htmlFor={name} className=\"form-label\">\r\n              {label}\r\n            </label>\r\n            <input\r\n              type={type}\r\n              id={name}\r\n              name={name}\r\n              className=\"form-control\"\r\n              value={employee[name]}\r\n              onChange={handleChange}\r\n              placeholder={label}\r\n            />\r\n          </div>\r\n        ))}\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"country\" className=\"form-label\">\r\n            Country\r\n          </label>\r\n          <select\r\n            id=\"country\"\r\n            name=\"country\"\r\n            className=\"form-select\" \r\n            value={employee.country}\r\n            onChange={handleChange}\r\n          >\r\n            <option value=\"\">Select Country</option>\r\n            {countries.map((country) => (\r\n              <option key={country.id} value={country.country}>\r\n                {country.country}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary\">\r\n          {id ? \"Update\" : \"Add\"}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddEditEmployee;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}