{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{Link,useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const[employees,setEmployees]=useState([]);const[searchTerm,setSearchTerm]=useState(\"\");const navigate=useNavigate();useEffect(()=>{fetchEmployees();},[]);const fetchEmployees=async()=>{try{const response=await axios.get(\"https://669b3f09276e45187d34eb4e.mockapi.io/api/v1/employee\");setEmployees(response.data);}catch(error){console.error(\"Error fetching employees\",error);}};const handleSearch=async e=>{const value=e.target.value;setSearchTerm(value);try{if(value){const responseById=await axios.get(\"https://669b3f09276e45187d34eb4e.mockapi.io/api/v1/employee/\".concat(value));setEmployees([responseById.data]);}else{fetchEmployees();}}catch(errorById){try{const responseByName=await axios.get(\"https://669b3f09276e45187d34eb4e.mockapi.io/api/v1/employee?name=\".concat(value));setEmployees(responseByName.data);}catch(errorByName){console.error(\"Error searching employee by name\",errorByName);}}};const handleDelete=async id=>{try{await axios.delete(\"https://669b3f09276e45187d34eb4e.mockapi.io/api/v1/employee/\".concat(id));fetchEmployees();}catch(error){console.error(\"Error deleting employee\",error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Employee List\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Search by ID or Name\",value:searchTerm,onChange:handleSearch})}),/*#__PURE__*/_jsx(Link,{to:\"/add\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success mb-3\",children:\"Add Employee\"})}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Avatar\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:employees.map(employee=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:employee.avatar,alt:employee.name,className:\"img-fluid rounded-circle\",style:{width:\"50px\",height:\"50px\"}})}),/*#__PURE__*/_jsx(\"td\",{children:employee.id}),/*#__PURE__*/_jsx(\"td\",{children:employee.name}),/*#__PURE__*/_jsx(\"td\",{children:employee.emailId}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/details/\".concat(employee.id),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info me-2\",children:\"Details\"})}),/*#__PURE__*/_jsx(Link,{to:\"/edit/\".concat(employee.id),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary me-2\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-pencil\"})})}),/*#__PURE__*/_jsx(Link,{to:\"/delete/\".concat(employee.id),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-trash\"})})})]})]},employee.id))})]})]});};export default Home;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Home","employees","setEmployees","searchTerm","setSearchTerm","navigate","fetchEmployees","response","get","data","error","console","handleSearch","e","value","target","responseById","concat","errorById","responseByName","errorByName","handleDelete","id","delete","className","children","type","placeholder","onChange","to","map","employee","src","avatar","alt","name","style","width","height","emailId"],"sources":["D:/Projects/employee-manager/src/components/Home.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nconst Home = () => {\r\n  const [employees, setEmployees] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    fetchEmployees();\r\n  }, []);\r\n\r\n  const fetchEmployees = async () => {\r\n    try {\r\n      const response = await axios.get(\r\n        \"https://669b3f09276e45187d34eb4e.mockapi.io/api/v1/employee\"\r\n      );\r\n      setEmployees(response.data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching employees\", error);\r\n    }\r\n  };\r\n\r\n  const handleSearch = async (e) => {\r\n    const value = e.target.value;\r\n    setSearchTerm(value);\r\n\r\n    try {\r\n      if (value) {\r\n        const responseById = await axios.get(\r\n          `https://669b3f09276e45187d34eb4e.mockapi.io/api/v1/employee/${value}`\r\n        );\r\n        setEmployees([responseById.data]);\r\n      } else {\r\n        fetchEmployees();\r\n      }\r\n    } catch (errorById) {\r\n      try {\r\n        const responseByName = await axios.get(\r\n          `https://669b3f09276e45187d34eb4e.mockapi.io/api/v1/employee?name=${value}`\r\n        );\r\n        setEmployees(responseByName.data);\r\n      } catch (errorByName) {\r\n        console.error(\"Error searching employee by name\", errorByName);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await axios.delete(\r\n        `https://669b3f09276e45187d34eb4e.mockapi.io/api/v1/employee/${id}`\r\n      );\r\n      fetchEmployees();\r\n    } catch (error) {\r\n      console.error(\"Error deleting employee\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1>Employee List</h1>\r\n      <div className=\"mb-3\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          placeholder=\"Search by ID or Name\"\r\n          value={searchTerm}\r\n          onChange={handleSearch}\r\n        />\r\n      </div>\r\n      <Link to=\"/add\">\r\n        <button className=\"btn btn-success mb-3\">Add Employee</button>\r\n      </Link>\r\n      <table className=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Avatar</th>\r\n            <th>ID</th>\r\n            <th>Name</th>\r\n            <th>Email</th>\r\n            {/* <th>Mobile</th>\r\n            <th>Country</th>\r\n            <th>State</th>\r\n            <th>District</th>\r\n            <th>Actions</th> */}\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {employees.map((employee) => (\r\n            <tr key={employee.id}>\r\n              <td>\r\n                <img\r\n                  src={employee.avatar}\r\n                  alt={employee.name}\r\n                  className=\"img-fluid rounded-circle\"\r\n                  style={{ width: \"50px\", height: \"50px\" }}\r\n                />\r\n              </td>\r\n              <td>{employee.id}</td>\r\n              <td>{employee.name}</td>\r\n              <td>{employee.emailId}</td>\r\n              {/* <td>{employee.mobile}</td>\r\n              <td>{employee.country}</td>\r\n              <td>{employee.state}</td>\r\n              <td>{employee.district}</td> */}\r\n              <td>\r\n                <Link to={`/details/${employee.id}`}>\r\n                  <button className=\"btn btn-info me-2\">Details</button>\r\n                </Link>\r\n                <Link to={`/edit/${employee.id}`}>\r\n                  <button className=\"btn btn-primary me-2\">\r\n                    <i className=\"bi bi-pencil\"></i>\r\n                  </button>\r\n                </Link>\r\n                <Link to={`/delete/${employee.id}`}>\r\n                  <button className=\"btn btn-danger\">\r\n                    <i className=\"bi bi-trash\"></i>\r\n                  </button>\r\n                </Link>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}